{"ast":null,"code":"import _defineProperty from \"/home/parvin/Documents/my-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"/home/parvin/Documents/my-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/parvin/Documents/my-app/src/App.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport logo from './logo.png'; // import logo-footer '.logoo.png';\n\nimport footerdcl from \"./footerdcl.svg\";\nimport kadomstev from './kadomstev.png';\nimport './App.css';\nimport PropTypes from \"prop-types\";\nimport Grid from \"./Grid\";\nimport Handle from \"./Handle\";\nimport Progress from \"./Progress\";\nimport Curve from \"./Curve\";\n\nconst mathLib = require('./mathLib.js');\n\nfunction onEnterHandle(h) {\n  if (!this.state.down) {\n    this.setState({\n      hover: h\n    });\n  }\n}\n\nfunction onDownHandle(h, e) {\n  e.preventDefault();\n  this.setState({\n    hover: null,\n    down: h\n  });\n}\n\nfunction onLeaveHandle() {\n  if (!this.state.down) {\n    this.setState({\n      hover: null\n    });\n  }\n}\n\nexport default class BezierEditor extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      down: 0,\n      hover: 0\n    };\n    this.onEnterHandle1 = onEnterHandle.bind(this, 1);\n    this.onEnterHandle2 = onEnterHandle.bind(this, 2);\n    this.onLeaveHandle1 = onLeaveHandle.bind(this, 1);\n    this.onLeaveHandle2 = onLeaveHandle.bind(this, 2);\n    this.onDownHandle1 = onDownHandle.bind(this, 1);\n    this.onDownHandle2 = onDownHandle.bind(this, 2);\n\n    this.onDownLeave = e => {\n      if (this.state.down) {\n        this.onDownMove(e);\n        this.setState({\n          down: null\n        });\n      }\n    };\n\n    this.onDownMove = e => {\n      if (this.state.down) {\n        e.preventDefault();\n        const i = 2 * (this.state.down - 1);\n        const value = [].concat(this.props.value);\n\n        const _this$positionForEven = this.positionForEvent(e),\n              _this$positionForEven2 = _slicedToArray(_this$positionForEven, 2),\n              x = _this$positionForEven2[0],\n              y = _this$positionForEven2[1];\n\n        value[i] = this.inversex(x);\n        value[i + 1] = this.inversey(y);\n        this.props.onChange(value);\n      }\n    };\n\n    this.onDownUp = () => {\n      // this.onDownMove(e);\n      this.setState({\n        down: 0\n      });\n    };\n\n    this.positionForEvent = e => {\n      const rect = this.refs.root.getBoundingClientRect();\n      return [e.clientX - rect.left, e.clientY - rect.top];\n    };\n\n    this.x = value => {\n      const padding = this.props.padding;\n      const w = this.props.width - padding[1] - padding[3];\n      return Math.round(padding[3] + value * w);\n    };\n\n    this.inversex = x => {\n      const padding = this.props.padding;\n      const w = this.props.width - padding[1] - padding[3];\n      return Math.max(0, Math.min((x - padding[3]) / w, 1));\n    };\n\n    this.y = value => {\n      const padding = this.props.padding;\n      const h = this.props.height - padding[0] - padding[2];\n      return Math.round(padding[0] + (1 - value) * h);\n    };\n\n    this.inversey = y => {\n      const _this$props = this.props,\n            height = _this$props.height,\n            handleRadius = _this$props.handleRadius,\n            padding = _this$props.padding;\n      const clampMargin = 2 * handleRadius;\n      const h = height - padding[0] - padding[2];\n      y = Math.max(clampMargin, Math.min(y, height - clampMargin));\n      return 1 - (y - padding[0]) / h;\n    };\n  }\n\n  render() {\n    const x = this.x,\n          y = this.y;\n    const _this$props2 = this.props,\n          value = _this$props2.value,\n          width = _this$props2.width,\n          height = _this$props2.height,\n          handleRadius = _this$props2.handleRadius,\n          style = _this$props2.style,\n          className = _this$props2.className,\n          progress = _this$props2.progress,\n          handleStroke = _this$props2.handleStroke,\n          background = _this$props2.background,\n          gridColor = _this$props2.gridColor,\n          curveColor = _this$props2.curveColor,\n          curveWidth = _this$props2.curveWidth,\n          handleColor = _this$props2.handleColor,\n          textStyle = _this$props2.textStyle,\n          progressColor = _this$props2.progressColor,\n          readOnly = _this$props2.readOnly,\n          pointers = _this$props2.pointers;\n    const _this$state = this.state,\n          down = _this$state.down,\n          hover = _this$state.hover;\n    const sharedProps = {\n      xFrom: x(0),\n      yFrom: y(0),\n      xTo: x(1),\n      yTo: y(1)\n    };\n\n    const cursor = _objectSpread({}, BezierEditor.propTypes.pointers, {}, pointers);\n\n    const styles = _objectSpread({\n      background,\n      cursor: down ? cursor.down : hover ? cursor.hover : cursor.def,\n      userSelect: \"none\",\n      WebkitUserSelect: \"none\",\n      MozUserSelect: \"none\"\n    }, style);\n\n    const containerEvents = readOnly || !down ? {} : {\n      onMouseMove: this.onDownMove,\n      onMouseUp: this.onDownUp,\n      onMouseLeave: this.onDownLeave\n    };\n    const handle1Events = readOnly || down ? {} : {\n      onMouseDown: this.onDownHandle1,\n      onMouseEnter: this.onEnterHandle1,\n      onMouseLeave: this.onLeaveHandle1\n    };\n    const handle2Events = readOnly || down ? {} : {\n      onMouseDown: this.onDownHandle2,\n      onMouseEnter: this.onEnterHandle2,\n      onMouseLeave: this.onLeaveHandle2\n    };\n    return React.createElement(\"svg\", Object.assign({\n      ref: \"root\",\n      className: className,\n      style: styles,\n      width: width,\n      height: height\n    }, containerEvents, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 229\n      },\n      __self: this\n    }), React.createElement(Grid, Object.assign({}, sharedProps, {\n      background: background,\n      gridColor: gridColor,\n      textStyle: _objectSpread({}, BezierEditor.defaultProps.textStyle, {}, textStyle),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 237\n      },\n      __self: this\n    })), React.createElement(Progress, Object.assign({}, sharedProps, {\n      value: value,\n      progress: progress,\n      progressColor: progressColor,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 243\n      },\n      __self: this\n    })), React.createElement(Curve, Object.assign({}, sharedProps, {\n      value: value,\n      curveColor: curveColor,\n      curveWidth: curveWidth,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 249\n      },\n      __self: this\n    })), this.props.children, readOnly ? undefined : React.createElement(\"g\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 258\n      },\n      __self: this\n    }, React.createElement(Handle, Object.assign({}, sharedProps, handle1Events, {\n      index: 0,\n      xval: value[0],\n      yval: value[1],\n      handleRadius: handleRadius,\n      handleColor: handleColor,\n      down: down === 1,\n      hover: hover === 1,\n      handleStroke: handleStroke,\n      background: background,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 259\n      },\n      __self: this\n    })), React.createElement(Handle, Object.assign({}, sharedProps, handle2Events, {\n      index: 1,\n      xval: value[2],\n      yval: value[3],\n      handleRadius: handleRadius,\n      handleColor: handleColor,\n      down: down === 2,\n      hover: hover === 2,\n      handleStroke: handleStroke,\n      background: background,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 272\n      },\n      __self: this\n    }))));\n  }\n\n} // export default BezierEditor;\n\nBezierEditor.propTypes = {\n  value: PropTypes.array,\n  onChange: PropTypes.func,\n  width: PropTypes.number,\n  height: PropTypes.number,\n  padding: PropTypes.array,\n  handleRadius: PropTypes.number,\n  style: PropTypes.object,\n  className: PropTypes.string,\n  progress: PropTypes.number,\n  handleStroke: PropTypes.number,\n  background: PropTypes.string,\n  gridColor: PropTypes.string,\n  curveColor: PropTypes.string,\n  curveWidth: PropTypes.number,\n  handleColor: PropTypes.string,\n  color: PropTypes.string,\n  textStyle: PropTypes.object,\n  progressColor: PropTypes.string,\n  readOnly: PropTypes.bool\n};\nBezierEditor.defaultProps = {\n  value: [0.25, 0.25, 0.75, 0.75],\n  width: 300,\n  height: 300,\n  padding: [25, 5, 25, 18],\n  progress: 0,\n  background: \"#fff\",\n  color: \"#000\",\n  // FIXME what is color?\n  gridColor: \"#eee\",\n  curveColor: \"#333\",\n  progressColor: \"#ccc\",\n  handleColor: \"#f00\",\n  curveWidth: 2,\n  handleRadius: 5,\n  handleStroke: 2,\n  textStyle: {\n    fontFamily: \"sans-serif\",\n    fontSize: \"10px\"\n  },\n  pointers: {\n    down: \"none\",\n    hover: \"pointer\",\n    def: \"default\"\n  }\n};","map":{"version":3,"sources":["/home/parvin/Documents/my-app/src/App.js"],"names":["React","logo","kadomstev","PropTypes","Grid","Handle","Progress","Curve","mathLib","require","onEnterHandle","h","state","down","setState","hover","onDownHandle","e","preventDefault","onLeaveHandle","BezierEditor","Component","onEnterHandle1","bind","onEnterHandle2","onLeaveHandle1","onLeaveHandle2","onDownHandle1","onDownHandle2","onDownLeave","onDownMove","i","value","concat","props","positionForEvent","x","y","inversex","inversey","onChange","onDownUp","rect","refs","root","getBoundingClientRect","clientX","left","clientY","top","padding","w","width","Math","round","max","min","height","handleRadius","clampMargin","render","style","className","progress","handleStroke","background","gridColor","curveColor","curveWidth","handleColor","textStyle","progressColor","readOnly","pointers","sharedProps","xFrom","yFrom","xTo","yTo","cursor","propTypes","styles","def","userSelect","WebkitUserSelect","MozUserSelect","containerEvents","onMouseMove","onMouseUp","onMouseLeave","handle1Events","onMouseDown","onMouseEnter","handle2Events","defaultProps","children","undefined","array","func","number","object","string","color","bool","fontFamily","fontSize"],"mappings":"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","sourcesContent":["import React from 'react';\nimport logo from './logo.png';\n// import logo-footer '.logoo.png';\nimport footerdcl from './footerdcl.svg';\nimport kadomstev from './kadomstev.png';\nimport './App.css';\nimport PropTypes from \"prop-types\";\nimport Grid from \"./Grid\";\nimport Handle from \"./Handle\";\nimport Progress from \"./Progress\";\nimport Curve from \"./Curve\";\nconst mathLib = require('./mathLib.js');\n\n\nfunction onEnterHandle(h) {\n  if (!this.state.down) {\n    this.setState({\n      hover: h,\n    });\n  }\n}\nfunction onDownHandle(h, e) {\n  e.preventDefault();\n  this.setState({\n    hover: null,\n    down: h,\n  });\n}\n\nfunction onLeaveHandle() {\n  if (!this.state.down) {\n    this.setState({\n      hover: null,\n    });\n  }\n}\n\n\nexport default class BezierEditor extends React.Component {\n  \n\n    static propTypes = {\n    value: PropTypes.array,\n    onChange: PropTypes.func,\n    width: PropTypes.number,\n    height: PropTypes.number,\n    padding: PropTypes.array,\n    handleRadius: PropTypes.number,\n    style: PropTypes.object,\n    className: PropTypes.string,\n    progress: PropTypes.number,\n    handleStroke: PropTypes.number,\n    background: PropTypes.string,\n    gridColor: PropTypes.string,\n    curveColor: PropTypes.string,\n    curveWidth: PropTypes.number,\n    handleColor: PropTypes.string,\n    color: PropTypes.string,\n    textStyle: PropTypes.object,\n    progressColor: PropTypes.string,\n    readOnly: PropTypes.bool,\n  };\n\n  static defaultProps = {\n    value: [0.25, 0.25, 0.75, 0.75],\n    width: 300,\n    height: 300,\n    padding: [25, 5, 25, 18],\n    progress: 0,\n    background: \"#fff\",\n    color: \"#000\", // FIXME what is color?\n    gridColor: \"#eee\",\n    curveColor: \"#333\",\n    progressColor: \"#ccc\",\n    handleColor: \"#f00\",\n    curveWidth: 2,\n    handleRadius: 5,\n    handleStroke: 2,\n    textStyle: {\n      fontFamily: \"sans-serif\",\n      fontSize: \"10px\",\n    },\n    pointers: {\n      down: \"none\",\n      hover: \"pointer\",\n      def: \"default\",\n    },\n  };\n\n  state = {\n    down: 0,\n    hover: 0,\n  };\n\n  onEnterHandle1 = onEnterHandle.bind(this, 1);\n  onEnterHandle2 = onEnterHandle.bind(this, 2);\n  onLeaveHandle1 = onLeaveHandle.bind(this, 1);\n  onLeaveHandle2 = onLeaveHandle.bind(this, 2);\n  onDownHandle1 = onDownHandle.bind(this, 1);\n  onDownHandle2 = onDownHandle.bind(this, 2);\n\n  onDownLeave = e => {\n    if (this.state.down) {\n      this.onDownMove(e);\n      this.setState({\n        down: null,\n      });\n    }\n  };\n\n  onDownMove = e => {\n    if (this.state.down) {\n      e.preventDefault();\n      const i = 2 * (this.state.down - 1);\n      const value = [].concat(this.props.value);\n      const [x, y] = this.positionForEvent(e);\n      value[i] = this.inversex(x);\n      value[i + 1] = this.inversey(y);\n      this.props.onChange(value);\n    }\n  };\n\n  onDownUp = () => {\n    // this.onDownMove(e);\n    this.setState({\n      down: 0,\n    });\n  };\n\n  positionForEvent = e => {\n    const rect = this.refs.root.getBoundingClientRect();\n    return [e.clientX - rect.left, e.clientY - rect.top];\n  };\n\n  x = value => {\n    const padding = this.props.padding;\n    const w = this.props.width - padding[1] - padding[3];\n    return Math.round(padding[3] + value * w);\n  };\n\n  inversex = x => {\n    const padding = this.props.padding;\n    const w = this.props.width - padding[1] - padding[3];\n    return Math.max(0, Math.min((x - padding[3]) / w, 1));\n  };\n\n  y = value => {\n    const padding = this.props.padding;\n    const h = this.props.height - padding[0] - padding[2];\n    return Math.round(padding[0] + (1 - value) * h);\n  };\n\n  inversey = y => {\n    const { height, handleRadius, padding } = this.props;\n    const clampMargin = 2 * handleRadius;\n    const h = height - padding[0] - padding[2];\n    y = Math.max(clampMargin, Math.min(y, height - clampMargin));\n    return 1 - (y - padding[0]) / h;\n  };\n\n\n  render() {\n   const { x, y } = this;\n    const {\n      value,\n      width,\n      height,\n      handleRadius,\n      style,\n      className,\n      progress,\n      handleStroke,\n      background,\n      gridColor,\n      curveColor,\n      curveWidth,\n      handleColor,\n      textStyle,\n      progressColor,\n      readOnly,\n      pointers,\n    } = this.props;\n\n    const { down, hover } = this.state;\n\n    const sharedProps = {\n      xFrom: x(0),\n      yFrom: y(0),\n      xTo: x(1),\n      yTo: y(1),\n    };\n\n    const cursor = { ...BezierEditor.propTypes.pointers, ...pointers };\n\n    const styles = {\n      background,\n      cursor: down ? cursor.down : hover ? cursor.hover : cursor.def,\n      userSelect: \"none\",\n      WebkitUserSelect: \"none\",\n      MozUserSelect: \"none\",\n      ...style,\n    };\n\n    const containerEvents = readOnly || !down\n      ? {}\n      : {\n          onMouseMove: this.onDownMove,\n          onMouseUp: this.onDownUp,\n          onMouseLeave: this.onDownLeave,\n        };\n    const handle1Events = readOnly || down\n      ? {}\n      : {\n          onMouseDown: this.onDownHandle1,\n          onMouseEnter: this.onEnterHandle1,\n          onMouseLeave: this.onLeaveHandle1,\n        };\n    const handle2Events = readOnly || down\n      ? {}\n      : {\n          onMouseDown: this.onDownHandle2,\n          onMouseEnter: this.onEnterHandle2,\n          onMouseLeave: this.onLeaveHandle2,\n        };\n\n        \n  return (\n\n    <svg\n        ref=\"root\"\n        className={className}\n        style={styles}\n        width={width}\n        height={height}\n        {...containerEvents}\n      >\n        <Grid\n          {...sharedProps}\n          background={background}\n          gridColor={gridColor}\n          textStyle={{ ...BezierEditor.defaultProps.textStyle, ...textStyle }}\n        />\n        <Progress\n          {...sharedProps}\n          value={value}\n          progress={progress}\n          progressColor={progressColor}\n        />\n        <Curve\n          {...sharedProps}\n          value={value}\n          curveColor={curveColor}\n          curveWidth={curveWidth}\n        />\n        {this.props.children}\n        {readOnly\n          ? undefined\n          : <g>\n              <Handle\n                {...sharedProps}\n                {...handle1Events}\n                index={0}\n                xval={value[0]}\n                yval={value[1]}\n                handleRadius={handleRadius}\n                handleColor={handleColor}\n                down={down === 1}\n                hover={hover === 1}\n                handleStroke={handleStroke}\n                background={background}\n              />\n              <Handle\n                {...sharedProps}\n                {...handle2Events}\n                index={1}\n                xval={value[2]}\n                yval={value[3]}\n                handleRadius={handleRadius}\n                handleColor={handleColor}\n                down={down === 2}\n                hover={hover === 2}\n                handleStroke={handleStroke}\n                background={background}\n              />\n            </g>}\n      </svg>\n   );\n\n  }\n}\n\n\n\n\n\n\n// export default BezierEditor;\n\n\n"]},"metadata":{},"sourceType":"module"}